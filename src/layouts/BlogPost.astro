---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/FormattedDate.astro";
import { render } from "astro:content";
import "@fontsource/zen-kaku-gothic-new/400.css";
import "@fontsource/zen-kaku-gothic-new/500.css";
import "@fontsource/zen-kaku-gothic-new/700.css";

type Props = CollectionEntry<"blog">;

const post = Astro.props as Props;
const { title, description, pubDate, updatedDate, heroImage } = post.data;
const { Content } = await render(post);
---

<html lang="ja">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <BaseHead title={title} description={description} />
    <style>
      :root {
        --content-width: 1200px;
        --content-padding: 2rem;
        --border-radius: 16px;
        --transition: all 0.3s ease;
        --text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        --header-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --accent-rgb: 102, 126, 234;
        --gray-light-rgb: 245, 245, 245;
        --gray-dark-rgb: 44, 62, 80;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Zen Kaku Gothic New", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: rgb(var(--gray-light-rgb));
        line-height: 1.6;
      }

      main {
        width: 100%;
        margin: 0;
        background: rgb(var(--gray-light-rgb));
        min-height: 100vh;
      }

      .container {
        max-width: var(--content-width);
        margin: 2rem auto;
        background: white;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border-radius: var(--border-radius);
        overflow: hidden;
      }

      /* „Éò„ÉÉ„ÉÄ„ÉºÂ∫ÉÂëä */
      .header-ad {
        padding: 15px;
        margin: 20px;
        border: 2px dashed #3498db;
        border-radius: 8px;
        text-align: center;
        font-weight: bold;
        position: relative;
        background: rgba(52, 152, 219, 0.1);
      }

      .header-ad::before {
        content: "üì¢";
        position: absolute;
        top: -10px;
        left: 10px;
        background: white;
        padding: 0 5px;
        font-size: 16px;
      }

      /* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„É¨„Ç§„Ç¢„Ç¶„Éà */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 30px;
        padding: 0 30px 30px;
      }

      .article-area {
        background: white;
      }

      .sidebar {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 12px;
        height: fit-content;
        position: sticky;
        top: 20px;
      }

      /* „Éí„Éº„É≠„Éº„Çª„ÇØ„Ç∑„Éß„É≥ */
      .hero-section {
        position: relative;
        overflow: hidden;
      }

      .hero-image {
        width: 100%;
        height: 400px;
        overflow: hidden;
      }

      .hero-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: var(--transition);
        filter: brightness(0.9);
      }

      .hero-image:hover img {
        transform: scale(1.05);
        filter: brightness(1);
      }

      .hero-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
        height: 50%;
        pointer-events: none;
      }

      /* Ë®ò‰∫ã„Éò„ÉÉ„ÉÄ„Éº */
      .article-header {
        padding: var(--content-padding);
        background: var(--header-gradient);
        color: white;
      }

      .metadata {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
        flex-wrap: wrap;
      }

      .date-badge {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-size: 0.9rem;
        font-weight: 500;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .updated-badge {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.8);
        padding: 0.4rem 0.8rem;
        border-radius: 50px;
        font-size: 0.8rem;
        font-style: italic;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .article-title {
        margin: 0;
        font-size: clamp(2rem, 5vw, 3rem);
        font-weight: 700;
        line-height: 1.2;
        color: white;
        text-shadow: var(--text-shadow);
        margin-bottom: 1rem;
      }

      .title-divider {
        height: 4px;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.8),
          rgba(255, 255, 255, 0.3)
        );
        border: none;
        border-radius: 2px;
        margin: 0;
        width: 80px;
      }

      /* Â∫ÉÂëä„Çπ„Çø„Ç§„É´ */
      .ad-banner {
        padding: 15px;
        margin: 20px 0;
        border: 2px dashed #ff6b6b;
        border-radius: 8px;
        text-align: center;
        font-weight: bold;
        position: relative;
        background: rgba(255, 107, 107, 0.1);
        transition: var(--transition);
      }

      .ad-banner:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .ad-banner::before {
        content: "üí∞";
        position: absolute;
        top: -10px;
        left: 10px;
        background: white;
        padding: 0 5px;
        font-size: 16px;
      }

      .content-ad {
        background: rgba(46, 204, 113, 0.1);
        border-color: #2ecc71;
      }

      .content-ad::before {
        content: "üéØ";
      }

      .sidebar-ad {
        background: rgba(155, 89, 182, 0.1);
        border-color: #9b59b6;
        margin: 15px 0;
      }

      .sidebar-ad::before {
        content: "üéÆ";
      }

      .effectiveness-label {
        position: absolute;
        top: -8px;
        right: 10px;
        color: white;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 12px;
      }

      .high {
        background: #e74c3c;
      }
      .medium {
        background: #f39c12;
      }
      .low {
        background: #95a5a6;
      }

      /* „Éó„É≠„Éº„Çπ„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
      .prose {
        color: rgb(var(--gray-dark-rgb));
        line-height: 1.8;
        font-size: 1.1rem;
      }

      /* ...ÔºàDevicePost.astro„ÅÆproseÁ≥ª„Çπ„Çø„Ç§„É´„Çí„Åì„Åì„Å´ÁßªÊ§çÔºâ... */

      /* „Çµ„Ç§„Éâ„Éê„Éº„Çπ„Çø„Ç§„É´ */
      .sidebar h3 {
        color: rgb(var(--gray-dark-rgb));
        margin-bottom: 15px;
        font-size: 1.2rem;
        border-left: 4px solid rgb(var(--accent-rgb));
        padding-left: 10px;
      }

      .sidebar-section {
        margin-bottom: 25px;
      }

      /* „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó */
      .tips {
        background: #d5edda;
        border: 1px solid #c3e6cb;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
      }

      .tips h4 {
        color: #155724;
        margin-bottom: 15px;
        font-size: 1.1rem;
      }

      .tips ul {
        color: #155724;
        margin-left: 20px;
      }

      .tips li {
        margin-bottom: 8px;
      }

      /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥ */
      @media (max-width: 1024px) {
        .main-content {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .sidebar {
          position: static;
          margin-top: 20px;
        }
      }

      @media (max-width: 768px) {
        :root {
          --content-padding: 1.5rem;
        }

        .container {
          margin: 1rem;
          border-radius: 12px;
        }

        .main-content {
          padding: 0 20px 20px;
        }

        .hero-image {
          height: 200px;
        }

        .metadata {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.8rem;
        }

        .article-title {
          font-size: 2rem;
        }

        .prose {
          font-size: 1rem;
          line-height: 1.7;
        }

        .ad-banner {
          padding: 12px;
          margin: 15px 0;
        }
      }

      @media (max-width: 480px) {
        :root {
          --content-padding: 0.5rem;
        }

        .container {
          margin: 0;
          border-radius: 0;
          box-shadow: none;
          width: 100vw;
          max-width: 100vw;
          box-sizing: border-box;
        }

        .main-content {
          padding: 0 5px 10px;
          grid-template-columns: 1fr;
          gap: 10px;
        }

        .hero-image {
          height: 120px;
        }

        .article-title {
          font-size: 1.2rem;
          padding: 0.5rem 0;
        }

        .sidebar {
          padding: 10px;
          border-radius: 8px;
          margin-top: 10px;
        }

        .ad-banner {
          padding: 8px;
          margin: 10px 0;
          font-size: 0.95rem;
        }

        .tips {
          padding: 10px;
          font-size: 0.95rem;
        }
      }
    </style>
  </head>

  <body>
    <Header />
    <main>
      <div class="container">
        <!-- „Éò„ÉÉ„ÉÄ„ÉºÂ∫ÉÂëä -->
        <div class="ad-banner header-ad">
          <div class="effectiveness-label medium">‰∏≠ÂäπÊûú</div>
          <strong>„Éò„ÉÉ„ÉÄ„ÉºÂ∫ÉÂëä (728√ó90 or 320√ó50)</strong><br />
          „Éñ„É©„É≥„ÉâË™çÁü•Âêë„Åë„Éª„Éá„Ç£„Çπ„Éó„É¨„Ç§Â∫ÉÂëä<br />
          CTR: 0.5-1.0% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 15-20%
        </div>

        <div class="main-content">
          <div class="article-area">
            <!-- „Éí„Éº„É≠„ÉºÁîªÂÉè -->
            {heroImage && (
              <div class="hero-section">
                <div class="hero-image">
                  <img src={heroImage} alt={title} />
                  <div class="hero-overlay" />
                </div>
              </div>
            )}

            <div class="article-header">
              <div class="metadata">
                <span class="date-badge"><FormattedDate date={pubDate} /></span>
                {updatedDate && (
                  <span class="updated-badge">
                    Êõ¥Êñ∞: <FormattedDate date={updatedDate} />
                  </span>
                )}
              </div>
              <h1 class="article-title">{title}</h1>
              <hr class="title-divider" />
            </div>

            <!-- Ë®ò‰∫ã‰∏äÈÉ®Â∫ÉÂëä -->
            <div class="ad-banner content-ad">
              <div class="effectiveness-label high">È´òÂäπÊûú</div>
              <strong>Ë®ò‰∫ã‰∏äÈÉ®Â∫ÉÂëä (300√ó250 or 336√ó280)</strong><br />
              „Ç¢„Éï„Ç£„É™„Ç®„Ç§„Éà„ÉªÂïÜÂìÅÁ¥π‰ªã<br />
              CTR: 2.0-4.0% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 30-40%
            </div>

            <div class="prose">
              <Content />
            </div>

            <!-- Ë®ò‰∫ã‰∏ãÈÉ®Â∫ÉÂëä -->
            <div class="ad-banner content-ad">
              <div class="effectiveness-label high">È´òÂäπÊûú</div>
              <strong>Ë®ò‰∫ã‰∏ãÈÉ®Â∫ÉÂëä (728√ó90 or 300√ó250)</strong><br />
              Èñ¢ÈÄ£Ë®ò‰∫ã„ÉªÊ¨°„ÅÆË°åÂãï‰øÉÈÄ≤<br />
              CTR: 2.5-4.5% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 20-30%
            </div>

            <div class="tips">
              <h4>üí° ÂèéÁõäÊúÄÂ§ßÂåñ„ÅÆ„Åü„ÇÅ„ÅÆÈÖçÁΩÆ„ÉÜ„ÇØ„Éã„ÉÉ„ÇØ</h4>
              <ul>
                <li>
                  <strong>Ë®ò‰∫ã‰∏äÈÉ®„Éª‰∏≠Èñì:</strong> Ë™≠ËÄÖ„ÅÆÈñ¢ÂøÉ„ÅåÈ´ò„ÅÑÊôÇÁÇπ„Åß„Ç¢„Éï„Ç£„É™„Ç®„Ç§„ÉàÂïÜÂìÅ„ÇíÈÖçÁΩÆ
                </li>
                <li>
                  <strong>„Çµ„Ç§„Éâ„Éê„Éº‰∏äÈÉ®:</strong> Â∏∏„Å´Ë¶ñÁïå„Å´ÂÖ•„Çã‰ΩçÁΩÆ„Åß‰∫∫Ê∞óÂïÜÂìÅ„Çí„Ç¢„Éî„Éº„É´
                </li>
                <li>
                  <strong>Ë®ò‰∫ã‰∏ãÈÉ®:</strong> Ë™≠‰∫ÜÂæå„ÅÆÊ¨°„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥ÔºàÈñ¢ÈÄ£ÂïÜÂìÅË≥ºÂÖ•Ôºâ„Çí‰øÉÈÄ≤
                </li>
                <li>
                  <strong>„É¢„Éê„Ç§„É´ÂØæÂøú:</strong> „Çπ„Éû„ÉõË°®Á§∫„Åß„ÅØ300√ó250„Çµ„Ç§„Ç∫„ÇíÂÑ™ÂÖà
                </li>
                <li>
                  <strong>A/B„ÉÜ„Çπ„Éà:</strong> ÂÆöÊúüÁöÑ„Å´ÈÖçÁΩÆ„ÇíÂ§âÊõ¥„Åó„Å¶ÂäπÊûú„ÇíÊ∏¨ÂÆö
                </li>
              </ul>
            </div>
          </div>

          <div class="sidebar">
            <div class="sidebar-section">
              <h3>üéØ „Åä„Åô„Åô„ÇÅÂïÜÂìÅ</h3>
              <div class="ad-banner sidebar-ad">
                <div class="effectiveness-label high">È´òÂäπÊûú</div>
                <strong>„Çµ„Ç§„Éâ„Éê„Éº‰∏äÈÉ® (300√ó250)</strong><br />
                ‰∫∫Ê∞óÂïÜÂìÅ„Éª„Çª„Éº„É´ÊÉÖÂ†±<br />
                CTR: 1.5-3.0% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 20-25%
              </div>
            </div>

            <div class="sidebar-section">
              <h3>üìà ‰∫∫Ê∞ó„É©„É≥„Ç≠„É≥„Ç∞</h3>
              <div class="ad-banner sidebar-ad">
                <div class="effectiveness-label medium">‰∏≠ÂäπÊûú</div>
                <strong>„É©„É≥„Ç≠„É≥„Ç∞Â∫ÉÂëä (300√ó150)</strong><br />
                „Éà„ÉÉ„ÉóÂïÜÂìÅÁ¥π‰ªã<br />
                CTR: 1.0-2.0% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 10-15%
              </div>
            </div>

            <div class="sidebar-section">
              <h3>üî• ‰ªäÈÄ±„ÅÆ„Çª„Éº„É´</h3>
              <div class="ad-banner sidebar-ad">
                <div class="effectiveness-label high">È´òÂäπÊûú</div>
                <strong>„Çª„Éº„É´Â∫ÉÂëä (300√ó200)</strong><br />
                ÈôêÂÆö„Ç™„Éï„Ç°„Éº„ÉªÁ∑äÊÄ•ÊÄß<br />
                CTR: 2.0-4.0% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 15-25%
              </div>
            </div>

            <div class="sidebar-section">
              <div class="ad-banner sidebar-ad">
                <div class="effectiveness-label low">‰ΩéÂäπÊûú</div>
                <strong>„Çµ„Ç§„Éâ„Éê„Éº‰∏ãÈÉ® (300√ó250)</strong><br />
                ‰∏ÄËà¨Â∫ÉÂëä„ÉªË£úÂÆåÁöÑ<br />
                CTR: 0.5-1.5% | ÂèéÁõäË≤¢ÁåÆÂ∫¶: 5-10%
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <Footer />
  </body>
</html>